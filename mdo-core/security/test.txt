[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building security 1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.4.1:clean (default-clean) @ security ---
[INFO] Deleting D:\mathieu\travail\rand\mdo\mdo-core\security\target
[INFO] 
[INFO] --- maven-antrun-plugin:1.3:run (initialize-security-resources) @ security ---
[INFO] Executing tasks
     [echo] Remove all files in D:\mathieu\travail\rand\mdo\mdo-core\security/src/main/resources/generated
     [echo] 									but not dummy file
   [delete] Deleting D:\mathieu\travail\rand\mdo\mdo-core\security\src\main\resources\generated\mdo-cacert.pem
   [delete] Deleting D:\mathieu\travail\rand\mdo\mdo-core\security\src\main\resources\generated\mdo-keystore.jks
   [delete] Deleting D:\mathieu\travail\rand\mdo\mdo-core\security\src\main\resources\generated\mdo-keystore.pkcs12
   [delete] Deleting D:\mathieu\travail\rand\mdo\mdo-core\security\src\main\resources\generated\mdo-private-key.pem
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-resources-plugin:2.4.3:resources (default-resources) @ security ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.3:run (generate-new-rsa-key) @ security ---
[INFO] Executing tasks
     [echo] D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/security-tools/openssl.exe genrsa -out D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/generated/mdo-private-key.pem 2048
     [exec] Loading 'screen' into random state - done
     [exec] Generating RSA private key, 1024 bit long modulus
     [exec] ...++++++
     [exec] ...................................++++++
     [exec] e is 65537 (0x10001)
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.3:run (create-self-signed-test-certificate) @ security ---
[INFO] Executing tasks
     [echo] D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/security-tools/openssl.exe req -config  D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/openssl-noprompt.cnf -new -x509 -key D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/generated/mdo-private-key.pem -out D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/generated/mdo-cacert.pem -days 1095
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.3:run (create-pkcs12-keystore) @ security ---
[INFO] Executing tasks
     [echo] D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/security-tools/openssl.exe pkcs12 -export
     [echo] 									-passout file:D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/keystore-pkcs12.pass 
     [echo] 									-passin file:D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/keystore-pkcs12.pass 
     [echo] 									-in	D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/generated/mdo-cacert.pem 
     [echo] 									-inkey D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/generated/mdo-private-key.pem
     [echo] 									-out D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/generated/mdo-keystore.pkcs12 
     [echo] 									-name mdoalias
     [exec] Loading 'screen' into random state - done
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:2.0.2:compile (default-compile) @ security ---
[INFO] Compiling 1 source file to D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes
[INFO] 
[INFO] --- maven-resources-plugin:2.4.3:testResources (default-testResources) @ security ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.0.2:testCompile (default-testCompile) @ security ---
[INFO] Compiling 1 source file to D:\mathieu\travail\rand\mdo\mdo-core\security\target\test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.5:test (default-test) @ security ---
[INFO] Surefire report directory: D:\mathieu\travail\rand\mdo\mdo-core\security\target\surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running fr.mch.mdo.security.util.PKCS12ImportTest
WARNING File Not Found D:\mathieu\travail\rand\mdo\mdo-core\security\src\test\resources\generated\mdo-keystore.jks
Alias 0: mdoalias
Adding key for alias mdoalias
Could not close the JKS InputStream src\test\resources\generated\mdo-keystore.jks
Usage: java PKCS12Import {pkcs12file} [newjksfile] [passfile]
Usage: java PKCS12Import {pkcs12file} [newjksfile] [passfile]
Unable to access input keystore: src\test\resources\generated\dummy.file
Output file is not writable: src\test\resources\generated\mdo-keystore.jks
Password file is not readable: src\test\resources\generated\dummy.file
This could not be happened because of processParameters method.
File Not Found: D:\mathieu\travail\rand\mdo\mdo-core\security\src\test\resources\generated\dummy.file
Could not retrieve the input password phrase
Could not retrieve the output password phrase
Console not found
Could not retrieve the input password phrase
Could not retrieve pkcs12 key store instance
Could not close the JKS OutputStream null
Could not close the JKS InputStream null
Could not close the PKCS12 InputStream null
Could not retrieve jks key store instance
Could not close the JKS OutputStream null
Could not close the JKS InputStream null
Could not close the PKCS12 InputStream null
File Not Found null
Could not close the JKS OutputStream null
Could not close the JKS InputStream null
Could not close the PKCS12 InputStream null
File Not Found src\test\resources\generated\dummy.file
Could not close the JKS OutputStream null
Could not close the JKS InputStream null
Could not close the PKCS12 InputStream src\test\resources\generated\dummy.file
Could not load pkcs12 IOException
Could not close the JKS OutputStream null
Could not close the JKS InputStream null
Could not load jks IOException
Could not close the JKS OutputStream src\test\resources\mdo-keystore.pkcs12
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.388 sec

Results :

Tests run: 4, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] --- maven-antrun-plugin:1.3:run (convert-pkcs12-keystore-to-jks-keystore) @ security ---
[INFO] Executing tasks
   [delete] Could not find file D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes\generated\mdo-keystore.jks to delete.
     [echo] java -classpath	D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes
     [echo] 									fr.mch.mdo.security.util.PKCS12Import
     [echo] 									D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/generated/mdo-keystore.pkcs12
     [echo] 									D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/generated/mdo-keystore.jks
     [echo] 									D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/keystore-pkcs12.pass
WARNING File Not Found D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes\generated\mdo-keystore.jks
Alias 0: mdoalias
Adding key for alias mdoalias
     [echo] Remove dummy file in D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/generated
   [delete] Deleting: D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes\generated\dummy
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-jar-plugin:2.3.1:jar (default-jar) @ security ---
[INFO] Building jar: D:\mathieu\travail\rand\mdo\mdo-core\security\target\pkcs12ToJks.jar
[INFO] 
[INFO] --- maven-antrun-plugin:1.3:run (finalize-mdo-security-resources) @ security ---
[INFO] Executing tasks
     [echo] Copy files from D:\mathieu\travail\rand\mdo\mdo-core\security\target\classes/generated
     [copy] Copying 4 files to D:\mathieu\travail\rand\mdo\mdo-core\security\src\main\resources\generated
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-install-plugin:2.3.1:install (default-install) @ security ---
[INFO] Installing D:\mathieu\travail\rand\mdo\mdo-core\security\target\pkcs12ToJks.jar to C:\Users\Mathieu\.m2\repository\fr\mch\mdo\security\1.0-SNAPSHOT\security-1.0-SNAPSHOT.jar
[INFO] Installing D:\mathieu\travail\rand\mdo\mdo-core\security\pom.xml to C:\Users\Mathieu\.m2\repository\fr\mch\mdo\security\1.0-SNAPSHOT\security-1.0-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 13.925s
[INFO] Finished at: Mon Jan 03 19:50:42 CET 2011
[INFO] Final Memory: 12M/76M
[INFO] ------------------------------------------------------------------------
